<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2017-06-08 Thu 15:26 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SICP</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="ying dai" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<script src='https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
<link rel='stylesheet' href='../css/worg2.css' typbe='text/css'/>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</head>
<body>
<div id="preamble" class="status">

<div class='nav'>
<div class='blog' style='text-align:right'>
<a href='/index.html'> Home </a> | <a href='/contact.html'> Contact </a>
</div>
</div>
</div>
<div id="content">
<h1 class="title">SICP</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org0e0ce93">环境的选择</a></li>
<li><a href="#org26f0dba">相关资源</a>
<ul>
<li><a href="#org5524284">SICP</a></li>
</ul>
</li>
<li><a href="#org7dd25bb">读书笔记和代码</a>
<ul>
<li><a href="#orgbeb89c8">Chapter 1 Building Abstractions with Procedures</a>
<ul>
<li><a href="#org298c106">The Elements of Programming</a>
<ul>
<li><a href="#org09bab18">Expressions</a></li>
<li><a href="#org8c5b0d3">Naming and the Environment</a></li>
<li><a href="#orge805cc0">Evaluating Combinations</a></li>
<li><a href="#orgc28a909">Compound Procedures</a></li>
<li><a href="#orgd5b2025">The Substitution Model for Procedure Application</a></li>
<li><a href="#org18eee9e">Applicative order versus normal order</a></li>
<li><a href="#orgadc9110">Conditional Expressions and Predicates</a></li>
<li><a href="#org1a986c5">Example: Square Roots by Newton's Method</a></li>
<li><a href="#org9420f11">Supplement of Newton's Method:</a></li>
<li><a href="#org99e9fcd">Procedures as Black-Box Abstractions</a></li>
</ul>
</li>
<li><a href="#orgfc145ec">Procedures and the Processes They Generate</a>
<ul>
<li><a href="#org67b0b8e">Linear Recursion and Iteration</a></li>
<li><a href="#org8890bda">Tree Recusion</a></li>
<li><a href="#orgba747f2">Example: Counting change</a></li>
<li><a href="#org661710b">Orders of Growth</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#org42e00c6">练习答案</a>
<ul>
<li><a href="#orgab99062">Chapter 1</a>
<ul>
<li><a href="#org74f3638">Exercise 1.1 p26</a></li>
<li><a href="#orgc00ae39">Exercise 1.2</a></li>
<li><a href="#org4baa341">Exercise 1.3</a></li>
<li><a href="#org4660549">Exercise 1.4</a></li>
<li><a href="#org2519789">Exercise 1.5</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<hr />

<p>
这个主要介SICP这本书环境搭建，相关的资源以及读书笔记和代码。
</p>

<div id="outline-container-org0e0ce93" class="outline-2">
<h2 id="org0e0ce93">环境的选择</h2>
<div class="outline-text-2" id="text-org0e0ce93">
<p>
学习SICP这本书，我们要先搭建一个scheme环境，可以使用Emacs，但是比较的麻烦。另外，下载<a href="http://download.racket-lang.org/">DrRacket</a>。
这里有个链接：<a href="http://docs.racket-lang.org/sicp-manual/index.html">http://docs.racket-lang.org/sicp-manual/index.html</a>
</p>
</div>
</div>

<div id="outline-container-org26f0dba" class="outline-2">
<h2 id="org26f0dba">相关资源</h2>
<div class="outline-text-2" id="text-org26f0dba">
</div><div id="outline-container-org5524284" class="outline-3">
<h3 id="org5524284">SICP</h3>
<div class="outline-text-3" id="text-org5524284">
<ul class="org-ul">
<li><a href="https://mitpress.mit.edu/sicp/">MIT Sicp site</a></li>
<li><a href="https://mitpress.mit.edu/sicp/full-text/book/book.html">html 版本</a></li>
<li><a href="https://pan.baidu.com/s/1geG13H5">Pdf 版本</a></li>
<li><a href="https://mitpress.mit.edu/sicp/psets/index.html">Sample Programming Assignments</a></li>
<li><a href="https://www.gitbook.com/book/evarga/solutions-guide-for-instructor-s-manual-of-sicp/details">Solutions Guide for Instructor's Manual of SICP</a></li>
</ul>
</div>
</div>
</div>
<div id="outline-container-org7dd25bb" class="outline-2">
<h2 id="org7dd25bb">读书笔记和代码</h2>
<div class="outline-text-2" id="text-org7dd25bb">
<p>
.#+TITLE: sicp
</p>
</div>

<div id="outline-container-orgbeb89c8" class="outline-3">
<h3 id="orgbeb89c8">Chapter 1 Building Abstractions with Procedures</h3>
<div class="outline-text-3" id="text-orgbeb89c8">
<blockquote>
<p>
The acts of the mind, wherein it exerts its power over simple
ideas, are chiefly these three: 1. Combining several simple ideas
into one compound one, and thus all complex ideas are made. 2. The
second is bringing two ideas, whether simple or complex,
together, and seting them by one another so as to take a view of
them at once, without uniting them into one, by which it gets all
its ideas of relations. 3. The third is separating them from all
other ideas that accompany them in their real existence: this is
called abstraction, and thus all its general ideas are made.
</p>

<p>
—John Locke, An Essay Concerning Human Understanding (1690)
</p>
</blockquote>
</div>


<div id="outline-container-org298c106" class="outline-4">
<h4 id="org298c106">The Elements of Programming</h4>
<div class="outline-text-4" id="text-org298c106">
<p>
A powerful programming language is
more than just a means for
instructing a computer to perform
tasks. The language also serves as a
framework within which we organize
our idea about processes.
</p>

<p>
Every powerful language has three
mechanisms for accomplishing this:
</p>
<ul class="org-ul">
<li><code>primitive expressions</code>, which
represent the simplest entities
the language is concerned with.</li>
<li><code>means of combination</code>, by which
compound elements are build from
simpler ones, and</li>
<li><code>means of abstraction</code>, by which
compound elements can be named and
manipulated as units.</li>
</ul>

<p>
In programming, we deal with two kinds of elements:
procedures and data.
</p>
</div>

<div id="outline-container-org09bab18" class="outline-5">
<h5 id="org09bab18">Expressions</h5>
<div class="outline-text-5" id="text-org09bab18">
<p>
Expressions representing numbers
maybe combined with an expression
representing a primitive
procedures(such as + or *) to form a
compound expression of the procedure
to those numbers.
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span>+ 137 349<span style="color: #707183;">)</span>

<span style="color: #707183;">(</span>/ 5 99<span style="color: #707183;">)</span>

<span style="color: #707183;">(</span>+ 2.2 19<span style="color: #707183;">)</span>
</pre>
</div>

<p>
The convention of placing the operator to the left of
the operands is known as <code>prefix notation</code> , and it may be somewhat
confusing at first because it departs significantly from the
customary mathematical convention. Prefix notation has serveral
advantages. One of the is that it can accommodate
procedures that may take an arbitrary number of arguments, as the
following examples:
</p>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span>+ 12 23 43 4<span style="color: #707183;">)</span>

<span style="color: #707183;">(</span>* 33  85 2<span style="color: #707183;">)</span>
</pre>
</div>

<p>
A second advantage of prefix
notation is that it extends in a
straightforward way to allow
combinations to be nested, that is,
to have combinations whose
elements are themselves
combinations:
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span>+ <span style="color: #7388d6;">(</span>* 3 5<span style="color: #7388d6;">)</span> <span style="color: #7388d6;">(</span>- 10 6<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
There is no limit to the depth of such nesting.
</p>

<p>
Instead to write the code like in one line:
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span>+ <span style="color: #7388d6;">(</span>* 3 <span style="color: #909183;">(</span>+ <span style="color: #709870;">(</span>* 2 4<span style="color: #709870;">)</span> <span style="color: #709870;">(</span>+ 3 5<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> <span style="color: #7388d6;">(</span>+ <span style="color: #909183;">(</span>- 10 7<span style="color: #909183;">)</span> 6<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
We can write it to the following form as pretty-printing:
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span>+ <span style="color: #7388d6;">(</span>* 3
      <span style="color: #909183;">(</span>+ <span style="color: #709870;">(</span>* 2 4<span style="color: #709870;">)</span>
         <span style="color: #709870;">(</span>+ 3 5<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>
   <span style="color: #7388d6;">(</span>+ <span style="color: #909183;">(</span>- 10 7<span style="color: #909183;">)</span>
      6<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org8c5b0d3" class="outline-5">
<h5 id="org8c5b0d3">Naming and the Environment</h5>
<div class="outline-text-5" id="text-org8c5b0d3">
<p>
In the Scheme, we name things with <code>define</code> .
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #0000ff;">size</span> 2<span style="color: #707183;">)</span>

size

<span style="color: #707183;">(</span>* 5 size<span style="color: #707183;">)</span>
</pre>
</div>

<p>
Here are further examples of the use of <code>define</code> :
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #0000ff;">pi</span> 3.14<span style="color: #707183;">)</span>

<span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #0000ff;">radius</span> 10<span style="color: #707183;">)</span>

<span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #0000ff;">curcumference</span> <span style="color: #7388d6;">(</span>* 2 pi radius<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-orge805cc0" class="outline-5">
<h5 id="orge805cc0">Evaluating Combinations</h5>
<div class="outline-text-5" id="text-orge805cc0">
<p>
For example,evaluating
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span>* <span style="color: #7388d6;">(</span>+ 2 <span style="color: #909183;">(</span>* 4 6<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>
   <span style="color: #7388d6;">(</span>+ 3 5 7<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
requires that the evaluation rule be applied to four
different combinations. We can obtain a picture of this
process by representing the combination in the form of a tree
, as shown in blow. The terminal nodes represent either
operators or numbers.
</p>


<div class="figure">
<p><img src="./imgs/20170606_164720_53196PP.png" alt="20170606_164720_53196PP.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgc28a909" class="outline-5">
<h5 id="orgc28a909">Compound Procedures</h5>
<div class="outline-text-5" id="text-orgc28a909">
<p>
Now we will learn about <code>procedure definitions</code> , a much
more powerful abstraction by which a compound operation
can be given a name and then referred to as a unit. Like:
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">square</span> x<span style="color: #7388d6;">)</span> <span style="color: #7388d6;">(</span>* x x<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #707183;">(</span>square 21<span style="color: #707183;">)</span>

<span style="color: #707183;">(</span>square <span style="color: #7388d6;">(</span>+ 2 5<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #707183;">(</span>square <span style="color: #7388d6;">(</span>square 3<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
The general form of a procedure definition is
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">&lt;name&gt;</span> &lt;formal parameters<span style="color: #7388d6;">)</span>
<span style="color: #228b22;">&lt;body&gt;</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
For example, \(x^2 + y^2\) can be expressed as
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span>+ <span style="color: #7388d6;">(</span>square x<span style="color: #7388d6;">)</span> <span style="color: #7388d6;">(</span>square y<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
<a id="orgb19e2ae"></a>
</p>
</div>
</div>
<div id="outline-container-orgd5b2025" class="outline-5">
<h5 id="orgd5b2025">The Substitution Model for Procedure Application</h5>
<div class="outline-text-5" id="text-orgd5b2025">
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span>f 5<span style="color: #707183;">)</span>
<span style="color: #707183;">(</span>sum-of-squares <span style="color: #7388d6;">(</span>+ a 1<span style="color: #7388d6;">)</span> <span style="color: #7388d6;">(</span>* a 2<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="color: #707183;">(</span>sum-of-squares <span style="color: #7388d6;">(</span>+ 5 1<span style="color: #7388d6;">)</span> <span style="color: #7388d6;">(</span>* 5 2<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="color: #707183;">(</span>+ <span style="color: #7388d6;">(</span>square 6<span style="color: #7388d6;">)</span> <span style="color: #7388d6;">(</span>square 10<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="color: #707183;">(</span>+ <span style="color: #7388d6;">(</span>* 6 6<span style="color: #7388d6;">)</span> <span style="color: #7388d6;">(</span>* 10 10<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="color: #707183;">(</span>+ 36 100<span style="color: #707183;">)</span>
136
</pre>
</div>

<p>
The process we have just described is called the <code>substitution model</code> for
procedure application.
</p>
</div>
</div>

<div id="outline-container-org18eee9e" class="outline-5">
<h5 id="org18eee9e">Applicative order versus normal order</h5>
<div class="outline-text-5" id="text-org18eee9e">
<p>
The above way is not the only way to perform evaluation.
An alternative evalution model would not evaluate the
operands until their values were needed. Instead it first
substitute operand expressions for parameters until it
obtained an expression involving only primitive operators,
and then perform the evaluation.
</p>

<p>
In this place, We still use the (f 5) as an example.
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span>sum-of-squares <span style="color: #7388d6;">(</span>+ 5 1<span style="color: #7388d6;">)</span> <span style="color: #7388d6;">(</span>* 5 2<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="color: #707183;">(</span>+ <span style="color: #7388d6;">(</span>square <span style="color: #909183;">(</span>+ 5 1<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> <span style="color: #7388d6;">(</span>square <span style="color: #909183;">(</span>* 5 2<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> <span style="color: #707183;">)</span> <span style="color: #707183;">(</span>+ <span style="color: #7388d6;">(</span>*<span style="color: #909183;">(</span>+51<span style="color: #909183;">)(</span>+51<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> <span style="color: #7388d6;">(</span>*<span style="color: #909183;">(</span>*52<span style="color: #909183;">)(</span>*52<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #707183;">(</span>+ <span style="color: #7388d6;">(</span>* 6 6<span style="color: #7388d6;">)</span> <span style="color: #7388d6;">(</span>* 10 10<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="color: #707183;">(</span>+  36 100<span style="color: #707183;">)</span>
136
</pre>
</div>

<p>
This method is called <code>normal-order evaluation</code> with fully
expand and then reduce evaluation method, in contrast
to the "evaluate the arguments and the apply" method that
the interpreter actually uses, which is called <code>applicative-order evaluation</code> .
</p>
</div>
</div>

<div id="outline-container-orgadc9110" class="outline-5">
<h5 id="orgadc9110">Conditional Expressions and Predicates</h5>
<div class="outline-text-5" id="text-orgadc9110">
<p>
Now, we will do like this:
\[ |x| =\left\{ \begin{aligned} x & , & if & & x > 0 \\ 0 & , & if
   & & x = 0 \\ -x & , & if & & x < 0\end{aligned} \right.\]
</p>

<p>
We will compute the absolute value of a number by testing whether the number is
positive, negative, or zero.
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">abs</span> x<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span><span style="color: #a020f0;">cond</span> <span style="color: #909183;">(</span><span style="color: #709870;">(</span>&gt; x 0<span style="color: #709870;">)</span> x<span style="color: #909183;">)</span>
          <span style="color: #909183;">(</span><span style="color: #709870;">(</span>= x 0<span style="color: #709870;">)</span> 0<span style="color: #909183;">)</span>
          <span style="color: #909183;">(</span><span style="color: #709870;">(</span>&lt; x 0<span style="color: #709870;">)</span> <span style="color: #709870;">(</span>- x<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">or this</span>
<span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">abs</span> x<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span><span style="color: #a020f0;">cond</span> <span style="color: #909183;">(</span><span style="color: #709870;">(</span>&lt; x 0<span style="color: #709870;">)</span> <span style="color: #709870;">(</span>- x<span style="color: #709870;">)</span><span style="color: #909183;">)</span>
           <span style="color: #909183;">(</span><span style="color: #a020f0;">else</span> x<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #b22222;">;; </span><span style="color: #b22222;">if</span>
<span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">abs</span> x<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span><span style="color: #a020f0;">if</span> <span style="color: #909183;">(</span>&lt; x 0<span style="color: #909183;">)</span>
        <span style="color: #909183;">(</span>- x<span style="color: #909183;">)</span>
        x<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>


<p>
The general form of a conditional expression is
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span><span style="color: #a020f0;">cond</span> <span style="color: #7388d6;">(</span><span style="color: #909183;">&#10216;</span>p1<span style="color: #909183;">&#10217;</span> <span style="color: #909183;">&#10216;</span>e1<span style="color: #909183;">&#10217;</span><span style="color: #7388d6;">)</span>
      <span style="color: #7388d6;">(</span><span style="color: #909183;">&#10216;</span>p2<span style="color: #909183;">&#10217;</span> <span style="color: #909183;">&#10216;</span>e2<span style="color: #909183;">&#10217;</span><span style="color: #7388d6;">)</span>
        ...
      <span style="color: #7388d6;">(</span><span style="color: #909183;">&#10216;</span>pn<span style="color: #909183;">&#10217;</span> <span style="color: #909183;">&#10216;</span>en<span style="color: #909183;">&#10217;</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
There are logical composition operations, which enable us
to construct compound predicates.
</p>
<ul class="org-ul">
<li>(and &lt;e<sub>1</sub>&gt; &#x2026; &lt;e<sub>n</sub>&gt;) If any &lt;e&gt; evaluates to false, the value
of the and expression is false, and the rest of &lt;e&gt;'s are not
evaluated.</li>

<li>(or &#x2026;.) Any is ture, then return true. If all is false, then return false.</li>

<li>(not &#x2026;.)</li>
</ul>

<p>
As an example of how these are used. Such \(x\) be in the range \(5 < x < 10\) may be expressed as
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span><span style="color: #a020f0;">and</span> <span style="color: #7388d6;">(</span>&gt; x 5<span style="color: #7388d6;">)</span> <span style="color: #7388d6;">(</span>&lt; x 10<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
As another example, we can define a predicate to test whether one
number is greater than or equal to another as:
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">&gt;=</span> x y<span style="color: #7388d6;">)</span> <span style="color: #7388d6;">(</span><span style="color: #a020f0;">or</span> <span style="color: #909183;">(</span>&gt; x y<span style="color: #909183;">)</span> <span style="color: #909183;">&#65288;</span>= x y<span style="color: #909183;">&#65289;</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
<span style="color: #b22222;">;; </span><span style="color: #b22222;">or</span>
<span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">&gt;=</span> x y<span style="color: #7388d6;">)</span> <span style="color: #7388d6;">(</span>not <span style="color: #909183;">(</span>&lt; x y<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1a986c5" class="outline-5">
<h5 id="org1a986c5">Example: Square Roots by Newton's Method</h5>
<div class="outline-text-5" id="text-org1a986c5">
<p>
Procedures are much like ordinary mathematical
functions. But there is an important difference
between mathematical functions and computer procedures.
Procedures must be effective.
</p>

<p>
As a case in point, consider the problem of computing square roots.
We can define the square-root function as
\[
   \sqrt x = the \  y \  such \ that \ y \ge 0 \ and \; y^2 = x.
   \]
</p>

<p>
This describes a perfectly legitimate mathematical function. We could use it
to recognize whether one number is the square root of another. On the other
hand, the definition does not describe a procedure. Indeed, it tells us nothing about how to actually find
the square root of a give number.
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">sqrt</span> x<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span>the y <span style="color: #909183;">(</span><span style="color: #a020f0;">and</span> <span style="color: #709870;">(</span>&gt; y 0<span style="color: #709870;">)</span>
            <span style="color: #709870;">(</span>= <span style="color: #907373;">(</span>square y<span style="color: #907373;">)</span> x<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
In mathematics we are usually concerned with
declarative(what is) descriptions, whereas in
computer science we are usually concerned with
imperative(how to) descriptions.
</p>

<p>
<a href="https://en.wikipedia.org/wiki/File:NewtonIteration_Ani.gif">Square root by Newton's method</a>
</p>

<p>
We write this basic strategy as a procedure:
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">sqrt-iter</span> guess x<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span><span style="color: #a020f0;">if</span> <span style="color: #909183;">(</span>good-enough? guess x<span style="color: #909183;">)</span>
        guess
        <span style="color: #909183;">(</span>sqrt-iter <span style="color: #709870;">(</span>improve guess x<span style="color: #709870;">)</span> x<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">improve</span> guess x<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span>average guess <span style="color: #909183;">(</span>/ x guess<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">average</span> x y<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span>/ <span style="color: #909183;">(</span>+ x y<span style="color: #909183;">)</span> 2<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">square</span> x<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span>* x x<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">good-enough?</span> guess x<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span>&lt; <span style="color: #909183;">(</span>abs <span style="color: #709870;">(</span>- <span style="color: #907373;">(</span>square guess<span style="color: #907373;">)</span> x<span style="color: #709870;">)</span><span style="color: #909183;">)</span> 0.001<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">sqrt</span> x<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span>sqrt-iter 1.0 x<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
So, we can use <i>sqrt</i> to compute square root.
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span>sqrt 9<span style="color: #707183;">)</span>
<span style="color: #707183;">(</span>sqrt <span style="color: #7388d6;">(</span>+ 100 37<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9420f11" class="outline-5">
<h5 id="org9420f11">Supplement of Newton's Method:</h5>
<div class="outline-text-5" id="text-org9420f11">
<p>
(If you want see more detail, please visit <a href="https://en.wikipedia.org/wiki/Newton's_method">here</a>)
</p>


<div class="figure">
<p><img src="./imgs/20170607_121804_5319HaV.png" alt="20170607_121804_5319HaV.png" />
</p>
<p><span class="figure-number">Figure 2: </span>My understand of Newton's Method</p>
</div>


<div class="figure">
<p><img src="./imgs/newton-method.gif" alt="newton-method.gif" />
</p>
<p><span class="figure-number">Figure 3: </span>From wikipedia of Newton's Method</p>
</div>
</div>
</div>

<div id="outline-container-org99e9fcd" class="outline-5">
<h5 id="org99e9fcd">Procedures as Black-Box Abstractions</h5>
<div class="outline-text-5" id="text-org99e9fcd">
<p>
In the previous problem, we talk about the sqrt.
Notice that the definition of sqrt-iter is recursive.
This will be addressed more carefully in later section.
</p>

<p>
The importance of this decomposition strategy is not
simply that one is dividing the program into parts.
</p>

<p>
So, a precedure definition should be able to suppress
detail. The users of the procedure may not have written
the procedure themselves, but may have obtained it from
another programmer as a black box. A user should not need
to know how the procedure is implemented in order to use it.
</p>
</div>

<ul class="org-ul"><li><a id="org40daf28"></a>Local names<br /><div class="outline-text-6" id="text-org40daf28">
<p>
The simplest consequence is that the parameter of a procedure
must be local to the body of the procedure.
</p>
</div></li>


<li><a id="org19de04d"></a>Internal definitions and block structure<br /><div class="outline-text-6" id="text-org19de04d">
<p>
We would like to localize the subprocedures, hiding them inside
sqrt so that sqrt could coexist with other successive
approximations, each having its own private good enough?
procedure. To make this possible, we allow a procedure to have
internal definitions that are local to that procedure. For
example, in the square root problem we can write.
</p>


<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">sqrt</span> x<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span><span style="color: #a020f0;">define</span> <span style="color: #909183;">(</span><span style="color: #0000ff;">square</span> x<span style="color: #909183;">)</span> <span style="color: #909183;">(</span>* x x<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span><span style="color: #a020f0;">define</span> <span style="color: #909183;">(</span><span style="color: #0000ff;">average</span> x y<span style="color: #909183;">)</span> <span style="color: #909183;">(</span>/ <span style="color: #709870;">(</span>+ x y<span style="color: #709870;">)</span> 2<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span><span style="color: #a020f0;">define</span> <span style="color: #909183;">(</span><span style="color: #0000ff;">good-enough?</span> guess x<span style="color: #909183;">)</span>
    <span style="color: #909183;">(</span>&lt; <span style="color: #709870;">(</span>abs <span style="color: #907373;">(</span>- <span style="color: #6276ba;">(</span>square guess<span style="color: #6276ba;">)</span> x<span style="color: #907373;">)</span><span style="color: #709870;">)</span> 0.001<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span><span style="color: #a020f0;">define</span> <span style="color: #909183;">(</span><span style="color: #0000ff;">improve</span> guess x<span style="color: #909183;">)</span> <span style="color: #909183;">(</span>average guess <span style="color: #709870;">(</span>/ x guess<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> <span style="color: #7388d6;">(</span><span style="color: #a020f0;">define</span> <span style="color: #909183;">(</span><span style="color: #0000ff;">sqrt-iter</span> guess x<span style="color: #909183;">)</span>
    <span style="color: #909183;">(</span><span style="color: #a020f0;">if</span> <span style="color: #709870;">(</span>good-enough? guess x<span style="color: #709870;">)</span> guess
            <span style="color: #709870;">(</span>sqrt-iter <span style="color: #907373;">(</span>improve guess x<span style="color: #907373;">)</span> x<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span>
      <span style="color: #7388d6;">(</span>sqrt-iter 1.0 x<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
Such nesting of definitions, called block structure.
</p>
</div></li></ul>
</div>
</div>

<div id="outline-container-orgfc145ec" class="outline-4">
<h4 id="orgfc145ec">Procedures and the Processes They Generate</h4>
<div class="outline-text-4" id="text-orgfc145ec">
<p>
To become experts, we must learn to visualize the
processes generated by various types of procedures.
Only after we have developed such a skill can we learn to
reliably construct programs that exhibit the desired
behavior.
</p>
</div>

<div id="outline-container-org67b0b8e" class="outline-5">
<h5 id="org67b0b8e">Linear Recursion and Iteration</h5>
<div class="outline-text-5" id="text-org67b0b8e">
<p>
We begin by considering the factorial function, defined by
\[
	n! = n \cdot (n-1) \cdot (n-2) \cdots 3 \cdot 2 \cdot 1
    \]
</p>

<p>
Thus, we can compute \(n!\) by computing \((n-1)!\) and
multiplying the result by \(n\).
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">factorial</span> n<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span><span style="color: #a020f0;">if</span> <span style="color: #909183;">(</span>= n 1<span style="color: #909183;">)</span>
        1
        <span style="color: #909183;">(</span>* n <span style="color: #709870;">(</span>factorial <span style="color: #907373;">(</span>- n 1<span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>


<p>
We can use the substitution model of <a href="#orgb19e2ae">This section</a> to watch this procedure
in action computing \(6!\), as show in <a href="#org13b5548">Figure 4</a>.
</p>


<div id="org13b5548" class="figure">
<p><img src="./imgs/20170607_204838_5319Ukb.png" alt="20170607_204838_5319Ukb.png" />
</p>
<p><span class="figure-number">Figure 4: </span>A linear recursive process for computing 6!</p>
</div>

<p>
Now let's take a different perspective on computing factorial.
We could describe a rule for computing \(n!\).
</p>

\begin{align}
product & \Leftarrow counter * product\\
counter & \Leftarrow counter + 1
\end{align}

<p>
Once again, we can recast our description as a procedure
for computing factorials.
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">factorial</span> n<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span>fact-iter 1 1 n<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">fact-iter</span> product counter max-count<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span><span style="color: #a020f0;">if</span> <span style="color: #909183;">(</span>&gt; counter max-count<span style="color: #909183;">)</span>
        product
        <span style="color: #909183;">(</span>fact-iter <span style="color: #709870;">(</span>* product counter<span style="color: #709870;">)</span>
                    <span style="color: #709870;">(</span>+ counter 1<span style="color: #709870;">)</span>
                    max-count<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>

<p>
As before, we can use the substitution mode to visualize
the process of computing \(6!\), as shown in <a href="#org851b660">Figure</a>
</p>


<div id="org851b660" class="figure">
<p><img src="./imgs/20170608_102359_5319_pO.png" alt="20170608_102359_5319_pO.png" />
</p>
<p><span class="figure-number">Figure 5: </span>A linear iterative process for computing 6!</p>
</div>


<p>
Compare the two process. We can find the "shapes" of the two processs
are quite differently.
</p>

<p>
In the next, we'll talk about the difference between
<i>linear recursive process</i> and <i>linear iterative process</i>.
</p>

<p>
Consider the first process. The expansion occurs as the
process builds up a chain of <i>deferred operations</i>. This
python of process, characterized by a chain of deferred
operations, is called a <i>recursive process</i>. Carrying out the
process requires that the iterpreter keep track of the
operations to be performed later on.
</p>

<p>
By contrast, the second process does not grow and shrink.  At each
step, all we need to keep track of, for any n, are the current
values of the variables product, counter, and maxcount.  We call
this an <i>iterative process</i>. In general, an iterative process is one
whose state can be summarized by a fixed number of state
variables, together with a fixed rule that describes how the state
variables should be updated as the process moves from state to
state and an (optional) end test that specifies conditions under
which the process should terminate.
</p>

<p>
Understand the difference between <i>recursive process</i> and <i>recursive
procedure</i>. It may seem disturbing that we refer to a recursive
procedure such as factiter as generating an iterative
process. However, the process really is iterative. In the
page of <b>45</b> , there has more detail about this. <b>Must read this part once again</b>.
</p>

<p>
It will execute an iterative process in constant space, even if
the iterative process is described by a recursive procedure. An
implementation with this property is called tail-recursive.
</p>
</div>
</div>

<div id="outline-container-org8890bda" class="outline-5">
<h5 id="org8890bda">Tree Recusion</h5>
<div class="outline-text-5" id="text-org8890bda">
<p>
As an example, consider computing the sequence of
<b>Fibonacci</b> numbers, in which each number is the sum of the preceding two:
\[0, 1, 1, 2, 3, 5, 8, 13, 21, \cdots\]
</p>

<p>
In general, the Fibonacci numbers can be defined by the rule
</p>


<div class="figure">
<p><img src="./imgs/20170608_113451_5319M0U.png" alt="20170608_113451_5319M0U.png" />
</p>
</div>

<p>
So, we can immediately translate this definition into
a recursive procedure.
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">fib</span> n<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span><span style="color: #a020f0;">cond</span> <span style="color: #909183;">(</span><span style="color: #709870;">(</span>= n 0<span style="color: #709870;">)</span> 0<span style="color: #909183;">)</span>
          <span style="color: #909183;">(</span><span style="color: #709870;">(</span>= n 1<span style="color: #709870;">)</span> 1<span style="color: #909183;">)</span>
          <span style="color: #909183;">(</span><span style="color: #a020f0;">else</span> <span style="color: #709870;">(</span>+ <span style="color: #907373;">(</span>fib <span style="color: #6276ba;">(</span>- n 1<span style="color: #6276ba;">)</span><span style="color: #907373;">)</span>
                   <span style="color: #907373;">(</span>fib <span style="color: #6276ba;">(</span>- n 2<span style="color: #6276ba;">)</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>


<div id="org6b3459a" class="figure">
<p><img src="./imgs/20170608_113927_5319Z-a.png" alt="20170608_113927_5319Z-a.png" />
</p>
<p><span class="figure-number">Figure 7: </span>The tree-recursive process generated in computing (fib 5)</p>
</div>


<p>
Notice in <a href="#org6b3459a">Figure</a> that the process of (fib 5) like a tree.
And the entrire computation of (fib 3) is duplicated.
Thus, the process uses a number of steps that grows exponentially with
the input. On the other hand, the space required grows only linearly with the input.
</p>

<p>
We can compute Fibonacci numbers iteratively using the procedure.
</p>

<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">fib</span> n<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span>fib-iter 1 0 n<span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>

<span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">fib-iter</span> a b count<span style="color: #7388d6;">)</span>
    <span style="color: #7388d6;">(</span><span style="color: #a020f0;">if</span> <span style="color: #909183;">(</span>= count 0<span style="color: #909183;">)</span>
        b
        <span style="color: #909183;">(</span>fib-iter <span style="color: #709870;">(</span>+ a b<span style="color: #709870;">)</span> a <span style="color: #709870;">(</span>- count 1<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-orgba747f2" class="outline-5">
<h5 id="orgba747f2">Example: Counting change</h5>
<div class="outline-text-5" id="text-orgba747f2">
<p>
This part is more difficult to understand. And it is mainly about
how to change amount of money with n kinds of coins.
<b>Read this part later</b>
</p>
</div>
</div>


<div id="outline-container-org661710b" class="outline-5">
<h5 id="org661710b">Orders of Growth</h5>
<div class="outline-text-5" id="text-org661710b">
<p>
Order of growth provides a useful indication of how we may
expect the behavior of the process to change as we change the size of
the problem. We represent the orders with the symbol of \(\Theta\)
</p>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-org42e00c6" class="outline-2">
<h2 id="org42e00c6">练习答案</h2>
<div class="outline-text-2" id="text-org42e00c6">
</div><div id="outline-container-orgab99062" class="outline-3">
<h3 id="orgab99062">Chapter 1</h3>
<div class="outline-text-3" id="text-orgab99062">
</div><div id="outline-container-org74f3638" class="outline-4">
<h4 id="org74f3638">Exercise 1.1 p26</h4>
<div class="outline-text-4" id="text-org74f3638">
<div class="org-src-container">
<pre class="src src-scheme">10
<span style="color: #707183;">(</span>+ 5 3 4<span style="color: #707183;">)</span> ===&gt; 12
<span style="color: #707183;">(</span>- 9 1<span style="color: #707183;">)</span> ===&gt; 8
3
6
nothing for <span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #0000ff;">a</span> 3<span style="color: #707183;">)</span>
nothing
19
#f for a is 3 and b is 4, so they are not equal, return false
4
16
6
16
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc00ae39" class="outline-4">
<h4 id="orgc00ae39">Exercise 1.2</h4>
<div class="outline-text-4" id="text-orgc00ae39">
<p>
I don't sure how to handle \(4/5\), need decimal?
The answer will be 0, if 4 or 5 is an integer.
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span>/ <span style="color: #7388d6;">(</span>+ 5 4 <span style="color: #909183;">(</span>- 2 <span style="color: #709870;">(</span>- 3 <span style="color: #907373;">(</span>+ 6 <span style="color: #6276ba;">(</span>/ 4 5<span style="color: #6276ba;">)</span><span style="color: #907373;">)</span><span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span> <span style="color: #7388d6;">(</span>* 3 <span style="color: #909183;">(</span>- 6 2<span style="color: #909183;">)</span> <span style="color: #909183;">(</span>- 2 7<span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-org4baa341" class="outline-4">
<h4 id="org4baa341">Exercise 1.3</h4>
<div class="outline-text-4" id="text-org4baa341">
<p>
Find a more simple way to do this.
</p>
<div class="org-src-container">
<pre class="src src-scheme"><span style="color: #707183;">(</span><span style="color: #a020f0;">define</span> <span style="color: #7388d6;">(</span><span style="color: #0000ff;">sum</span> a b c<span style="color: #7388d6;">)</span>
  <span style="color: #7388d6;">(</span><span style="color: #a020f0;">cond</span> <span style="color: #909183;">(</span><span style="color: #709870;">(</span><span style="color: #a020f0;">and</span> <span style="color: #907373;">(</span>&lt; a b<span style="color: #907373;">)</span> <span style="color: #907373;">(</span>&lt; a c<span style="color: #907373;">)</span><span style="color: #709870;">)</span> <span style="color: #709870;">(</span>+ b c<span style="color: #709870;">)</span><span style="color: #909183;">)</span>
        <span style="color: #909183;">(</span><span style="color: #709870;">(</span><span style="color: #a020f0;">and</span> <span style="color: #907373;">(</span>&lt; b a<span style="color: #907373;">)</span> <span style="color: #907373;">(</span>&lt; b c<span style="color: #907373;">)</span><span style="color: #709870;">)</span> <span style="color: #709870;">(</span>+ a c<span style="color: #709870;">)</span><span style="color: #909183;">)</span>
        <span style="color: #909183;">(</span><span style="color: #709870;">(</span><span style="color: #a020f0;">and</span> <span style="color: #907373;">(</span>&lt; c a<span style="color: #907373;">)</span> <span style="color: #907373;">(</span>&lt; c b<span style="color: #907373;">)</span><span style="color: #709870;">)</span> <span style="color: #709870;">(</span>+ a b<span style="color: #709870;">)</span><span style="color: #909183;">)</span><span style="color: #7388d6;">)</span><span style="color: #707183;">)</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-org4660549" class="outline-4">
<h4 id="org4660549">Exercise 1.4</h4>
<div class="outline-text-4" id="text-org4660549">
<p>
The function of a-plus-abs-b accept 2 parameters of a and b.
First, it will check if b is greater than 0 or not.  If b &gt; 0, the
local procedure of "(if (&gt; b 0) + -)" will return +, or it will
return -.
</p>

<p>
So, if b &gt; 0, the result is (+ a b) and if b &lt;= 0, the
result is (- a b). In the end, this procedure will return
a plus the absolute value of b. Using infix notation is "a + abs(b)".
</p>
</div>
</div>

<div id="outline-container-org2519789" class="outline-4">
<h4 id="org2519789">Exercise 1.5</h4>
<div class="outline-text-4" id="text-org2519789">
<p>
If the interpreter use applicative-order evaluation, we can't
get any of result. Because, it will first do the step of (p) and then
return the result. But, I can't get the result.
</p>

<p>
If the iterpreter use another way, we will get the result immediately.
</p>

<p>
So, the interpreter use the first one.
</p>

<p>
(Need reference to others answer, I don't really understand this)
</p>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/datejs/1.0/date.min.js"></script>

<script>
var base_url = 'https://api.github.com';
var title = document.title;
var owner = 'yydai';
var repo = 'yydai.github.io';
var search_issues = base_url + '/search/issues?q=' + title + '+user:' + owner + '+label:blog';

console.log("search_issues = "+ search_issues);

function test() {
  jQuery.ajax({
      type: 'GET',
      async: false,
      dataType:'json',
      url: search_issues,
      success:function(data) {
         result = data;
      }
  });
  return result;
}
var result = test();
var items = result.items[0];
if(jQuery.isEmptyObject(items)) {
    create(title);
} else {
    html_url = items.html_url;
	document.body.innerHTML +=
'<div id="comments"><h2>Comments</h2><div id="header">Want to leave a comment? Visit <a href="'+ html_url + '"> this issue page on GitHub</a> (you will need a GitHub account).</div></div>'
}


function create(title) {
    var creare = base_url + '/repos/' + owner + '/' + repo + '/issues';
  var payload = {
          'title': title,
      'body': 'You can write comments in this issues.',
      'labels': ['blog'],
  }
  $.ajax({
    type: 'POST',
    url: create,
    crossDomain: true,
    // The key needs to match your method's input parameter (case-sensitive).
    data: JSON.stringify(payload),
    beforeSend: function(xhr) {
        xhr.setRequestHeader('Authorization', 'Basic eXlkYWk6ZGVpc3Q5MjgxNw==');
        xhr.setRequestHeader('Access-Control-Allow-Origin' , '*');
        xhr.setRequestHeader('contentType', 'application/json; charset=utf-8');
    },
    dataType: 'json',
    success: function(data){alert('create issue success');},
    failure: function(errMsg) {
        alert('create issue failed');
    }
});
}

console.log("total_count = " + result.total_count);
if(result.total_count == 1) {
    var comments_url = result.items[0].comments_url;
} else if (result.total_count == 0) {
        // create a new issue
    //create(title);
} else {
        // result not only
        alert('Cannot load the comments.');
}

function loadComments(data) {
    for (var i=0; i<data.length; i++) {
      var cuser = data[i].user.login;
      var cuserlink = 'https://' + repo + '/' + data[i].user.login;
      var clink = comments_url + '#issuecomment-' + data[i].url.substring(data[i].url.lastIndexOf("/")+1);
      var cbody = data[i].body_html;
      var cavatarlink = data[i].user.avatar_url;
      var cdate = Date.parse(data[i].created_at).toString('yyyy-MM-dd HH:mm:ss');

      var code = '<div class="comment"><div class="commentheader"><div class="commentgravatar">' + '<img src="' + cavatarlink + '" alt="" width="20" height="20">' + '</div><a class="commentuser" href=\""+ cuserlink + "\">' + cuser + '</a><a class="commentdate" href=\"" + clink + "\">' + cdate + '</a></div><div class="commentbody">' + cbody + '</div></div>';

      $('#comments').append(code);
    }
  }


var comments_api = comments_url + '?per_page=100';
console.log("comments api: " + comments_api);
$.ajax(comments_api, {
    headers: {Accept: 'application/vnd.github.full+json'},
    dataType: 'json',
    success: function(msg){
      loadComments(msg);
   }
  });


</script>

<hr />
 <div class='footer'>
© 2017 yydai<br/>
Email: dai92817@icloud.com
</div>
</div>
</body>
</html>
